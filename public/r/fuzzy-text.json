{
  "name": "fuzzy-text",
  "description": "Retro CRT television effect with static noise, scanlines, and progressive text reveal.",
  "type": "registry:ui",
  "dependencies": [
    "framer-motion",
    "react"
  ],
  "registryDependencies": [],
  "files": [
    {
      "type": "registry:ui",
      "content": "'use client';\r\n\r\nimport { useEffect, useRef, useState, useCallback, useMemo } from 'react';\r\nimport { motion, useInView } from 'framer-motion';\r\n\r\ninterface FuzzyTextProps {\r\n  text: string;\r\n  className?: string;\r\n  fontSize?: string;\r\n  noiseIntensity?: number;\r\n  enableHover?: boolean;\r\n  baseColor?: string;\r\n  glowColor?: string;\r\n  speed?: number;\r\n}\r\n\r\nexport const FuzzyText = ({\r\n  text,\r\n  className = '',\r\n  fontSize = '4rem',\r\n  noiseIntensity = 1,\r\n  enableHover = true,\r\n  baseColor = '#fff',\r\n  glowColor = '#fff',\r\n  speed = 50,\r\n}: Readonly<FuzzyTextProps>) => {\r\n  const containerRef = useRef<HTMLSpanElement>(null);\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const [displayText, setDisplayText] = useState(text);\r\n  const animationRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  // Noise characters for the fuzzy effect\r\n  const noiseChars = useMemo(\r\n    () => '!<>-_\\\\/[]{}â€”=+*^?#_ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',\r\n    [],\r\n  );\r\n\r\n  const getRandomChar = useCallback(() => {\r\n    return noiseChars[Math.floor(Math.random() * noiseChars.length)];\r\n  }, [noiseChars]);\r\n\r\n  // Apply noise to text when not hovered\r\n  useEffect(() => {\r\n    if (!enableHover) {\r\n      // Always show noise when hover is disabled\r\n      animationRef.current = setInterval(() => {\r\n        const noisyText = text\r\n          .split('')\r\n          .map((char) => {\r\n            if (char === ' ') return char;\r\n            return Math.random() < noiseIntensity * 0.3 ? getRandomChar() : char;\r\n          })\r\n          .join('');\r\n        setDisplayText(noisyText);\r\n      }, speed);\r\n\r\n      return () => {\r\n        if (animationRef.current) clearInterval(animationRef.current);\r\n      };\r\n    }\r\n\r\n    if (!isHovered) {\r\n      // Apply noise effect when not hovered\r\n      animationRef.current = setInterval(() => {\r\n        const noisyText = text\r\n          .split('')\r\n          .map((char) => {\r\n            if (char === ' ') return char;\r\n            return Math.random() < noiseIntensity * 0.3 ? getRandomChar() : char;\r\n          })\r\n          .join('');\r\n        setDisplayText(noisyText);\r\n      }, speed);\r\n    } else {\r\n      // Show clear text when hovered\r\n      setDisplayText(text);\r\n      if (animationRef.current) {\r\n        clearInterval(animationRef.current);\r\n      }\r\n    }\r\n\r\n    return () => {\r\n      if (animationRef.current) clearInterval(animationRef.current);\r\n    };\r\n  }, [isHovered, text, noiseIntensity, enableHover, getRandomChar, speed]);\r\n\r\n  const uniqueId = useMemo(\r\n    () => `fuzzy-${Math.random().toString(36).substr(2, 9)}`,\r\n    [],\r\n  );\r\n\r\n  return (\r\n    <span\r\n      ref={containerRef}\r\n      className={`relative inline-block cursor-pointer ${className}`}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n      style={{\r\n        fontSize,\r\n        fontWeight: 'bold',\r\n      }}\r\n    >\r\n      {/* SVG Filter for noise effect */}\r\n      <svg width=\"0\" height=\"0\" className=\"absolute\">\r\n        <defs>\r\n          <filter id={`${uniqueId}-noise`}>\r\n            <feTurbulence\r\n              type=\"fractalNoise\"\r\n              baseFrequency={isHovered ? '0' : '0.8'}\r\n              numOctaves=\"4\"\r\n              seed={Math.random() * 100}\r\n              stitchTiles=\"stitch\"\r\n              result=\"noise\"\r\n            />\r\n            <feDisplacementMap\r\n              in=\"SourceGraphic\"\r\n              in2=\"noise\"\r\n              scale={isHovered ? 0 : 2 * noiseIntensity}\r\n              xChannelSelector=\"R\"\r\n              yChannelSelector=\"G\"\r\n            />\r\n          </filter>\r\n        </defs>\r\n      </svg>\r\n\r\n      {/* Main text with noise effect */}\r\n      <motion.span\r\n        className=\"relative inline-block\"\r\n        style={{\r\n          color: baseColor,\r\n          filter: `url(#${uniqueId}-noise)`,\r\n          textShadow: `\r\n            0 0 ${isHovered ? 20 : 5}px ${glowColor},\r\n            0 0 ${isHovered ? 40 : 10}px ${glowColor},\r\n            0 0 ${isHovered ? 60 : 15}px ${glowColor}\r\n          `,\r\n        }}\r\n        animate={{\r\n          x: isHovered ? 0 : [0, -1, 1, -1, 0],\r\n          y: isHovered ? 0 : [0, 1, -1, 1, 0],\r\n        }}\r\n        transition={{\r\n          duration: 0.1,\r\n          repeat: isHovered ? 0 : Infinity,\r\n          repeatType: 'loop',\r\n        }}\r\n      >\r\n        {displayText}\r\n      </motion.span>\r\n\r\n      {/* Chromatic aberration layers */}\r\n      {!isHovered && (\r\n        <>\r\n          {/* Red channel offset */}\r\n          <motion.span\r\n            className=\"pointer-events-none absolute left-0 top-0\"\r\n            style={{\r\n              color: 'transparent',\r\n              textShadow: `0 0 2px rgba(255, 0, 0, ${0.4 * noiseIntensity})`,\r\n              mixBlendMode: 'screen',\r\n            }}\r\n            animate={{\r\n              x: [-2, 2, -2],\r\n              opacity: [0.5, 0.8, 0.5],\r\n            }}\r\n            transition={{\r\n              duration: 0.15,\r\n              repeat: Infinity,\r\n              repeatType: 'reverse',\r\n            }}\r\n          >\r\n            {displayText}\r\n          </motion.span>\r\n\r\n          {/* Blue channel offset */}\r\n          <motion.span\r\n            className=\"pointer-events-none absolute left-0 top-0\"\r\n            style={{\r\n              color: 'transparent',\r\n              textShadow: `0 0 2px rgba(0, 100, 255, ${0.4 * noiseIntensity})`,\r\n              mixBlendMode: 'screen',\r\n            }}\r\n            animate={{\r\n              x: [2, -2, 2],\r\n              opacity: [0.5, 0.8, 0.5],\r\n            }}\r\n            transition={{\r\n              duration: 0.15,\r\n              repeat: Infinity,\r\n              repeatType: 'reverse',\r\n            }}\r\n          >\r\n            {displayText}\r\n          </motion.span>\r\n        </>\r\n      )}\r\n\r\n      {/* Scanlines */}\r\n      <motion.span\r\n        className=\"pointer-events-none absolute inset-0 z-10\"\r\n        style={{\r\n          background: `repeating-linear-gradient(\r\n            0deg,\r\n            transparent,\r\n            transparent 2px,\r\n            rgba(0, 0, 0, ${isHovered ? 0.05 : 0.15}) 2px,\r\n            rgba(0, 0, 0, ${isHovered ? 0.05 : 0.15}) 4px\r\n          )`,\r\n        }}\r\n        animate={{\r\n          backgroundPosition: ['0 0', '0 4px'],\r\n        }}\r\n        transition={{\r\n          duration: 0.5,\r\n          repeat: Infinity,\r\n          ease: 'linear',\r\n        }}\r\n      />\r\n\r\n      {/* Occasional glitch flicker */}\r\n      <motion.span\r\n        className=\"pointer-events-none absolute inset-0\"\r\n        style={{\r\n          background: 'rgba(255, 255, 255, 0.03)',\r\n        }}\r\n        animate={{\r\n          opacity: isHovered ? 0 : [0, 1, 0, 0, 1, 0],\r\n        }}\r\n        transition={{\r\n          duration: 0.5,\r\n          repeat: Infinity,\r\n          times: [0, 0.1, 0.12, 0.8, 0.82, 1],\r\n        }}\r\n      />\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default FuzzyText;\r\n",
      "path": "/components/ui/fuzzy-text.tsx",
      "target": "components/ui/fuzzy-text.tsx"
    }
  ],
  "categories": [
    "text-animation"
  ]
}