{
  "name": "expandable",
  "type": "registry:ui",
  "description": "Expandable card component with smooth animations and customizable presets",
  "dependencies": [
    "motion/react",
    "react"
  ],
  "registryDependencies": [
    "https://blocks.mvp-subha.me/r/utils.json"
  ],
  "files": [
    {
      "type": "registry:ui",
      "content": "'use client';\n\nimport { cn } from '@/lib/utils';\nimport { AnimatePresence, motion } from 'motion/react';\nimport * as React from 'react';\n\ninterface ExpandableContextValue {\n  isExpanded: boolean;\n  setIsExpanded: (expanded: boolean) => void;\n}\n\nconst ExpandableContext = React.createContext<ExpandableContextValue | null>(\n  null,\n);\n\ninterface ExpandableProps {\n  readonly children:\n    | React.ReactNode\n    | ((props: { isExpanded: boolean }) => React.ReactNode);\n  readonly expandDirection?: 'both' | 'horizontal' | 'vertical';\n  readonly expandBehavior?: 'replace' | 'push';\n  readonly initialDelay?: number;\n  readonly onExpandStart?: () => void;\n  readonly onExpandEnd?: () => void;\n}\n\nexport function Expandable({\n  children,\n  expandDirection = 'both',\n  expandBehavior = 'replace',\n  initialDelay = 0,\n  onExpandStart,\n  onExpandEnd,\n}: ExpandableProps) {\n  const [isExpanded, setIsExpanded] = React.useState(false);\n\n  const handleExpand = React.useCallback(\n    (expanded: boolean) => {\n      if (expanded && onExpandStart) {\n        onExpandStart();\n      }\n      setIsExpanded(expanded);\n      if (expanded && onExpandEnd) {\n        setTimeout(() => onExpandEnd(), initialDelay);\n      }\n    },\n    [onExpandStart, onExpandEnd, initialDelay],\n  );\n\n  const value = React.useMemo(\n    () => ({\n      isExpanded,\n      setIsExpanded: handleExpand,\n    }),\n    [isExpanded, handleExpand],\n  );\n\n  return (\n    <ExpandableContext.Provider value={value}>\n      {typeof children === 'function' ? children({ isExpanded }) : children}\n    </ExpandableContext.Provider>\n  );\n}\n\nfunction useExpandable() {\n  const context = React.useContext(ExpandableContext);\n  if (!context) {\n    throw new Error('useExpandable must be used within Expandable');\n  }\n  return context;\n}\n\ninterface ExpandableTriggerProps {\n  readonly children: React.ReactNode;\n  readonly className?: string;\n}\n\nexport function ExpandableTrigger({\n  children,\n  className,\n}: ExpandableTriggerProps) {\n  const { isExpanded, setIsExpanded } = useExpandable();\n\n  const handleClick = () => setIsExpanded(!isExpanded);\n\n  return (\n    <button\n      type=\"button\"\n      className={cn('cursor-pointer', className)}\n      onClick={handleClick}\n    >\n      {children}\n    </button>\n  );\n}\n\ninterface ExpandableCardProps extends React.HTMLAttributes<HTMLDivElement> {\n  readonly collapsedSize: { width: number; height: number };\n  readonly expandedSize: { width: number; height: number };\n  readonly hoverToExpand?: boolean;\n  readonly expandDelay?: number;\n  readonly collapseDelay?: number;\n}\n\nexport function ExpandableCard({\n  children,\n  className,\n  collapsedSize,\n  expandedSize,\n  hoverToExpand = false,\n  expandDelay = 0,\n  collapseDelay = 0,\n  ...props\n}: ExpandableCardProps) {\n  const { isExpanded } = useExpandable();\n\n  return (\n    <motion.div\n      className={cn(\n        'bg-card relative overflow-hidden rounded-lg border',\n        className,\n      )}\n      initial={false}\n      animate={{\n        width: isExpanded ? expandedSize.width : collapsedSize.width,\n        height: isExpanded ? expandedSize.height : collapsedSize.height,\n      }}\n      transition={{\n        duration: 0.3,\n        delay: isExpanded ? expandDelay / 1000 : collapseDelay / 1000,\n        ease: [0.4, 0, 0.2, 1],\n      }}\n      {...props}\n    >\n      {children}\n    </motion.div>\n  );\n}\n\nconst cardSectionClassName = 'p-4';\n\nfunction CardSection({\n  children,\n  className,\n  ...props\n}: Readonly<React.HTMLAttributes<HTMLDivElement>>) {\n  return (\n    <div className={cn(cardSectionClassName, className)} {...props}>\n      {children}\n    </div>\n  );\n}\n\nexport function ExpandableCardHeader(\n  props: Readonly<React.HTMLAttributes<HTMLDivElement>>,\n) {\n  return <CardSection {...props} />;\n}\n\nexport function ExpandableCardContent(\n  props: Readonly<React.HTMLAttributes<HTMLDivElement>>,\n) {\n  return <CardSection {...props} />;\n}\n\nexport function ExpandableCardFooter(\n  props: Readonly<React.HTMLAttributes<HTMLDivElement>>,\n) {\n  return <CardSection className=\"border-t\" {...props} />;\n}\n\ninterface ExpandableContentProps extends React.HTMLAttributes<HTMLDivElement> {\n  readonly preset?: 'fade' | 'blur-sm' | 'blur-md' | 'slide-up' | 'slide-down';\n  readonly stagger?: boolean;\n  readonly staggerChildren?: number;\n  readonly keepMounted?: boolean;\n  readonly animateIn?: {\n    initial?: Record<string, any>;\n    animate?: Record<string, any>;\n    transition?: Record<string, any>;\n  };\n}\n\nexport function ExpandableContent({\n  children,\n  className,\n  preset = 'fade',\n  stagger = false,\n  staggerChildren = 0.1,\n  keepMounted = false,\n  animateIn,\n  ...props\n}: ExpandableContentProps) {\n  const { isExpanded } = useExpandable();\n\n  const getPresetStyles = () => {\n    const baseStyles = {\n      initial: { opacity: 0 },\n      animate: { opacity: 1 },\n      exit: { opacity: 0 },\n    };\n\n    switch (preset) {\n      case 'fade':\n        return baseStyles;\n      case 'blur-sm':\n        return {\n          ...baseStyles,\n          initial: { ...baseStyles.initial, filter: 'blur(4px)' },\n          animate: { ...baseStyles.animate, filter: 'blur(0px)' },\n          exit: { ...baseStyles.exit, filter: 'blur(4px)' },\n        };\n      case 'blur-md':\n        return {\n          ...baseStyles,\n          initial: { ...baseStyles.initial, filter: 'blur(8px)' },\n          animate: { ...baseStyles.animate, filter: 'blur(0px)' },\n          exit: { ...baseStyles.exit, filter: 'blur(8px)' },\n        };\n      case 'slide-up':\n        return {\n          ...baseStyles,\n          initial: { ...baseStyles.initial, y: 20 },\n          animate: { ...baseStyles.animate, y: 0 },\n          exit: { ...baseStyles.exit, y: 20 },\n        };\n      case 'slide-down':\n        return {\n          ...baseStyles,\n          initial: { ...baseStyles.initial, y: -20 },\n          animate: { ...baseStyles.animate, y: 0 },\n          exit: { ...baseStyles.exit, y: -20 },\n        };\n      default:\n        return baseStyles;\n    }\n  };\n\n  const styles = animateIn || getPresetStyles();\n\n  if (!isExpanded && !keepMounted) {\n    return null;\n  }\n\n  return (\n    <AnimatePresence mode=\"wait\">\n      {isExpanded && (\n        <motion.div\n          className={className}\n          initial={styles.initial}\n          animate={styles.animate}\n          exit={styles.exit}\n          transition={styles.transition || { duration: 0.3 }}\n          {...props}\n        >\n          {children}\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n",
      "path": "/components/ui/expandable.tsx",
      "target": "components/ui/expandable.tsx"
    }
  ],
  "categories": [
    "ui",
    "animation"
  ]
}