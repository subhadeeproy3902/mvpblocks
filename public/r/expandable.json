{
  "name": "expandable",
  "type": "registry:ui",
  "dependencies": [
    "react"
  ],
  "registryDependencies": [
    "https://blocks.mvp-subha.me/r/utils.json"
  ],
  "files": [
    {
      "type": "registry:ui",
      "content": "'use client';\r\n\r\nimport { cn } from '@/lib/utils';\r\nimport { AnimatePresence, easeInOut, motion } from 'motion/react';\r\nimport * as React from 'react';\r\n\r\ninterface ExpandableContextValue {\r\n  isExpanded: boolean;\r\n  setIsExpanded: (expanded: boolean) => void;\r\n}\r\n\r\nconst ExpandableContext = React.createContext<ExpandableContextValue | null>(\r\n  null,\r\n);\r\n\r\ninterface ExpandableProps {\r\n  readonly children:\r\n  | React.ReactNode\r\n  | ((props: { isExpanded: boolean }) => React.ReactNode);\r\n  readonly expandDirection?: 'both' | 'horizontal' | 'vertical';\r\n  readonly expandBehavior?: 'replace' | 'push';\r\n  readonly initialDelay?: number;\r\n  readonly onExpandStart?: () => void;\r\n  readonly onExpandEnd?: () => void;\r\n}\r\n\r\nexport function Expandable({\r\n  children,\r\n  expandDirection = 'both',\r\n  expandBehavior = 'replace',\r\n  initialDelay = 0,\r\n  onExpandStart,\r\n  onExpandEnd,\r\n}: ExpandableProps) {\r\n  const [isExpanded, setIsExpanded] = React.useState(false);\r\n\r\n  const handleExpand = React.useCallback(\r\n    (expanded: boolean) => {\r\n      if (expanded && onExpandStart) {\r\n        onExpandStart();\r\n      }\r\n      setIsExpanded(expanded);\r\n      if (expanded && onExpandEnd) {\r\n        setTimeout(() => onExpandEnd(), initialDelay);\r\n      }\r\n    },\r\n    [onExpandStart, onExpandEnd, initialDelay],\r\n  );\r\n\r\n  const value = React.useMemo(\r\n    () => ({\r\n      isExpanded,\r\n      setIsExpanded: handleExpand,\r\n    }),\r\n    [isExpanded, handleExpand],\r\n  );\r\n\r\n  return (\r\n    <ExpandableContext.Provider value={value}>\r\n      {typeof children === 'function' ? children({ isExpanded }) : children}\r\n    </ExpandableContext.Provider>\r\n  );\r\n}\r\n\r\nfunction useExpandable() {\r\n  const context = React.useContext(ExpandableContext);\r\n  if (!context) {\r\n    throw new Error('useExpandable must be used within Expandable');\r\n  }\r\n  return context;\r\n}\r\n\r\ninterface ExpandableTriggerProps {\r\n  readonly children: React.ReactNode;\r\n  readonly className?: string;\r\n}\r\n\r\nexport function ExpandableTrigger({\r\n  children,\r\n  className,\r\n}: ExpandableTriggerProps) {\r\n  const { isExpanded, setIsExpanded } = useExpandable();\r\n\r\n  const handleClick = () => setIsExpanded(!isExpanded);\r\n\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className={cn('cursor-pointer', className)}\r\n      onClick={handleClick}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n\r\ninterface ExpandableCardProps {\r\n  readonly children?: React.ReactNode;\r\n  readonly className?: string;\r\n  readonly collapsedSize: { width: number; height: number };\r\n  readonly expandedSize: { width: number; height: number };\r\n  readonly hoverToExpand?: boolean;\r\n  readonly expandDelay?: number;\r\n  readonly collapseDelay?: number;\r\n}\r\n\r\nexport function ExpandableCard({\r\n  children,\r\n  className,\r\n  collapsedSize,\r\n  expandedSize,\r\n  hoverToExpand = false,\r\n  expandDelay = 0,\r\n  collapseDelay = 0,\r\n}: ExpandableCardProps) {\r\n  const { isExpanded } = useExpandable();\r\n\r\n  return (\r\n    <motion.div\r\n      className={cn(\r\n        'bg-card relative overflow-hidden rounded-lg border',\r\n        className,\r\n      )}\r\n      initial={false}\r\n      animate={{\r\n        width: isExpanded ? expandedSize.width : collapsedSize.width,\r\n        height: isExpanded ? expandedSize.height : collapsedSize.height,\r\n      }}\r\n      transition={{\r\n        duration: 0.3,\r\n        delay: isExpanded ? expandDelay / 1000 : collapseDelay / 1000,\r\n        ease: easeInOut,\r\n      }}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n}\r\n\r\nconst cardSectionClassName = 'p-4';\r\n\r\nfunction CardSection({\r\n  children,\r\n  className,\r\n  ...props\r\n}: Readonly<React.HTMLAttributes<HTMLDivElement>>) {\r\n  return (\r\n    <div className={cn(cardSectionClassName, className)} {...props}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function ExpandableCardHeader(\r\n  props: Readonly<React.HTMLAttributes<HTMLDivElement>>,\r\n) {\r\n  return <CardSection {...props} />;\r\n}\r\n\r\nexport function ExpandableCardContent(\r\n  props: Readonly<React.HTMLAttributes<HTMLDivElement>>,\r\n) {\r\n  return <CardSection {...props} />;\r\n}\r\n\r\nexport function ExpandableCardFooter(\r\n  props: Readonly<React.HTMLAttributes<HTMLDivElement>>,\r\n) {\r\n  return <CardSection className=\"border-t\" {...props} />;\r\n}\r\n\r\ninterface ExpandableContentProps {\r\n  readonly children?: React.ReactNode;\r\n  readonly className?: string;\r\n  readonly preset?: 'fade' | 'blur-sm' | 'blur-md' | 'slide-up' | 'slide-down';\r\n  readonly stagger?: boolean;\r\n  readonly staggerChildren?: number;\r\n  readonly keepMounted?: boolean;\r\n  readonly animateIn?: {\r\n    initial?: Record<string, any>;\r\n    animate?: Record<string, any>;\r\n    exit?: Record<string, any>;\r\n    transition?: Record<string, any>;\r\n  };\r\n}\r\n\r\nexport function ExpandableContent({\r\n  children,\r\n  className,\r\n  preset = 'fade',\r\n  stagger = false,\r\n  staggerChildren = 0.1,\r\n  keepMounted = false,\r\n  animateIn,\r\n}: ExpandableContentProps) {\r\n  const { isExpanded } = useExpandable();\r\n\r\n  const getPresetStyles = () => {\r\n    const baseStyles = {\r\n      initial: { opacity: 0 },\r\n      animate: { opacity: 1 },\r\n      exit: { opacity: 0 },\r\n    };\r\n\r\n    switch (preset) {\r\n      case 'fade':\r\n        return baseStyles;\r\n      case 'blur-sm':\r\n        return {\r\n          ...baseStyles,\r\n          initial: { ...baseStyles.initial, filter: 'blur(4px)' },\r\n          animate: { ...baseStyles.animate, filter: 'blur(0px)' },\r\n          exit: { ...baseStyles.exit, filter: 'blur(4px)' },\r\n        };\r\n      case 'blur-md':\r\n        return {\r\n          ...baseStyles,\r\n          initial: { ...baseStyles.initial, filter: 'blur(8px)' },\r\n          animate: { ...baseStyles.animate, filter: 'blur(0px)' },\r\n          exit: { ...baseStyles.exit, filter: 'blur(8px)' },\r\n        };\r\n      case 'slide-up':\r\n        return {\r\n          ...baseStyles,\r\n          initial: { ...baseStyles.initial, y: 20 },\r\n          animate: { ...baseStyles.animate, y: 0 },\r\n          exit: { ...baseStyles.exit, y: 20 },\r\n        };\r\n      case 'slide-down':\r\n        return {\r\n          ...baseStyles,\r\n          initial: { ...baseStyles.initial, y: -20 },\r\n          animate: { ...baseStyles.animate, y: 0 },\r\n          exit: { ...baseStyles.exit, y: -20 },\r\n        };\r\n      default:\r\n        return baseStyles;\r\n    }\r\n  };\r\n\r\n  const styles = animateIn || getPresetStyles();\r\n\r\n  if (!isExpanded && !keepMounted) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <AnimatePresence mode=\"wait\">\r\n      {isExpanded && (\r\n        <motion.div\r\n          className={className}\r\n          initial={styles.initial}\r\n          animate={styles.animate}\r\n          exit={styles.exit}\r\n          transition={'transition' in styles ? styles.transition : { duration: 0.3 }}\r\n        >\r\n          {children}\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}",
      "path": "/./components/ui/expandable.tsx",
      "target": "components/ui/expandable.tsx"
    }
  ]
}