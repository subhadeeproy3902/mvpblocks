{
  "name": "scroll-reveal-text",
  "description": "Text animation tied to scroll position - reveals as you scroll, reverses when scrolling up.",
  "type": "registry:ui",
  "dependencies": [
    "framer-motion",
    "react"
  ],
  "registryDependencies": [],
  "files": [
    {
      "type": "registry:ui",
      "content": "'use client';\n\nimport { useRef, useMemo } from 'react';\nimport { motion, useScroll, useTransform } from 'framer-motion';\n\ninterface ScrollRevealTextProps {\n  text: string;\n  className?: string;\n  revealType?: 'blur' | 'fade' | 'slide' | 'scale' | 'characters';\n  scrollOffset?: [string, string];\n  staggerDelay?: number;\n  blurAmount?: number;\n  slideDistance?: number;\n}\n\nexport const ScrollRevealText = ({\n  text,\n  className = '',\n  revealType = 'blur',\n  scrollOffset = ['start 0.9', 'start 0.3'],\n  staggerDelay = 0.03,\n  blurAmount = 10,\n  slideDistance = 30,\n}: Readonly<ScrollRevealTextProps>) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const { scrollYProgress } = useScroll({\n    target: containerRef,\n    offset: scrollOffset as unknown as [string, string],\n  });\n\n  // For word/character-based reveals\n  const words = useMemo(() => text.split(' '), [text]);\n  const characters = useMemo(() => text.split(''), [text]);\n\n  // Blur reveal transforms\n  const blurValue = useTransform(\n    scrollYProgress,\n    [0, 1],\n    [`blur(${blurAmount}px)`, 'blur(0px)'],\n  );\n  const blurOpacity = useTransform(scrollYProgress, [0, 0.5, 1], [0.3, 0.7, 1]);\n\n  // Fade reveal transforms\n  const fadeOpacity = useTransform(scrollYProgress, [0, 1], [0, 1]);\n\n  // Slide reveal transforms\n  const slideY = useTransform(\n    scrollYProgress,\n    [0, 1],\n    [slideDistance, 0],\n  );\n  const slideOpacity = useTransform(scrollYProgress, [0, 0.3, 1], [0, 0.5, 1]);\n\n  // Scale reveal transforms\n  const scale = useTransform(scrollYProgress, [0, 1], [0.8, 1]);\n  const scaleOpacity = useTransform(scrollYProgress, [0, 0.5, 1], [0, 0.5, 1]);\n\n  // Render based on reveal type\n  if (revealType === 'blur') {\n    return (\n      <motion.div\n        ref={containerRef}\n        className={`relative ${className}`}\n        style={{\n          filter: blurValue,\n          opacity: blurOpacity,\n        }}\n      >\n        {text}\n      </motion.div>\n    );\n  }\n\n  if (revealType === 'fade') {\n    return (\n      <motion.div\n        ref={containerRef}\n        className={`relative ${className}`}\n        style={{\n          opacity: fadeOpacity,\n        }}\n      >\n        {text}\n      </motion.div>\n    );\n  }\n\n  if (revealType === 'slide') {\n    return (\n      <motion.div\n        ref={containerRef}\n        className={`relative ${className}`}\n        style={{\n          y: slideY,\n          opacity: slideOpacity,\n        }}\n      >\n        {text}\n      </motion.div>\n    );\n  }\n\n  if (revealType === 'scale') {\n    return (\n      <motion.div\n        ref={containerRef}\n        className={`relative ${className}`}\n        style={{\n          scale,\n          opacity: scaleOpacity,\n        }}\n      >\n        {text}\n      </motion.div>\n    );\n  }\n\n  // Characters reveal - each character reveals based on scroll\n  if (revealType === 'characters') {\n    return (\n      <div ref={containerRef} className={`relative ${className}`}>\n        <span className=\"sr-only\">{text}</span>\n        <span aria-hidden>\n          {characters.map((char, index) => (\n            <CharacterReveal\n              key={index}\n              char={char}\n              index={index}\n              total={characters.length}\n              scrollYProgress={scrollYProgress}\n              staggerDelay={staggerDelay}\n              blurAmount={blurAmount}\n            />\n          ))}\n        </span>\n      </div>\n    );\n  }\n\n  return (\n    <div ref={containerRef} className={`relative ${className}`}>\n      {text}\n    </div>\n  );\n};\n\n// Component for individual character reveal\ninterface CharacterRevealProps {\n  char: string;\n  index: number;\n  total: number;\n  scrollYProgress: any;\n  staggerDelay: number;\n  blurAmount: number;\n}\n\nconst CharacterReveal = ({\n  char,\n  index,\n  total,\n  scrollYProgress,\n  staggerDelay,\n  blurAmount,\n}: CharacterRevealProps) => {\n  // Calculate when this character should start and end revealing\n  const staggerOffset = index * staggerDelay;\n  const startProgress = Math.min(staggerOffset, 0.5);\n  const endProgress = Math.min(staggerOffset + 0.3, 1);\n\n  const opacity = useTransform(\n    scrollYProgress,\n    [startProgress, endProgress],\n    [0, 1],\n  );\n\n  const blur = useTransform(\n    scrollYProgress,\n    [startProgress, endProgress],\n    [blurAmount, 0],\n  );\n\n  const y = useTransform(\n    scrollYProgress,\n    [startProgress, endProgress],\n    [10, 0],\n  );\n\n  // Handle the filter transform\n  const filterBlur = useTransform(blur, (v) => `blur(${v}px)`);\n\n  return (\n    <motion.span\n      className=\"inline-block\"\n      style={{\n        opacity,\n        filter: filterBlur,\n        y,\n        display: char === ' ' ? 'inline' : 'inline-block',\n        minWidth: char === ' ' ? '0.3em' : 'auto',\n      }}\n    >\n      {char === ' ' ? '\\u00A0' : char}\n    </motion.span>\n  );\n};\n\nexport default ScrollRevealText;\n",
      "path": "/components/ui/scroll-reveal-text.tsx",
      "target": "components/ui/scroll-reveal-text.tsx"
    }
  ],
  "categories": [
    "text-animation"
  ]
}