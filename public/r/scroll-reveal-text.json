{
  "name": "scroll-reveal-text",
  "description": "Text animation tied to scroll position - reveals as you scroll, reverses when scrolling up.",
  "type": "registry:ui",
  "dependencies": [
    "framer-motion",
    "react"
  ],
  "registryDependencies": [],
  "files": [
    {
      "type": "registry:ui",
      "content": "'use client';\r\n\r\nimport { useRef, useMemo } from 'react';\r\nimport { motion, useScroll, useTransform } from 'framer-motion';\r\n\r\ninterface ScrollRevealTextProps {\r\n  text: string;\r\n  className?: string;\r\n  revealType?: 'blur' | 'fade' | 'slide' | 'scale' | 'characters';\r\n  scrollOffset?: [string, string];\r\n  staggerDelay?: number;\r\n  blurAmount?: number;\r\n  slideDistance?: number;\r\n}\r\n\r\nexport const ScrollRevealText = ({\r\n  text,\r\n  className = '',\r\n  revealType = 'blur',\r\n  scrollOffset = ['start 0.9', 'start 0.3'],\r\n  staggerDelay = 0.03,\r\n  blurAmount = 10,\r\n  slideDistance = 30,\r\n}: Readonly<ScrollRevealTextProps>) => {\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n  const { scrollYProgress } = useScroll({\r\n    target: containerRef,\r\n    offset: scrollOffset as unknown as [string, string],\r\n  });\r\n\r\n  // For word/character-based reveals\r\n  const words = useMemo(() => text.split(' '), [text]);\r\n  const characters = useMemo(() => text.split(''), [text]);\r\n\r\n  // Blur reveal transforms\r\n  const blurValue = useTransform(\r\n    scrollYProgress,\r\n    [0, 1],\r\n    [`blur(${blurAmount}px)`, 'blur(0px)'],\r\n  );\r\n  const blurOpacity = useTransform(scrollYProgress, [0, 0.5, 1], [0.3, 0.7, 1]);\r\n\r\n  // Fade reveal transforms\r\n  const fadeOpacity = useTransform(scrollYProgress, [0, 1], [0, 1]);\r\n\r\n  // Slide reveal transforms\r\n  const slideY = useTransform(\r\n    scrollYProgress,\r\n    [0, 1],\r\n    [slideDistance, 0],\r\n  );\r\n  const slideOpacity = useTransform(scrollYProgress, [0, 0.3, 1], [0, 0.5, 1]);\r\n\r\n  // Scale reveal transforms\r\n  const scale = useTransform(scrollYProgress, [0, 1], [0.8, 1]);\r\n  const scaleOpacity = useTransform(scrollYProgress, [0, 0.5, 1], [0, 0.5, 1]);\r\n\r\n  // Render based on reveal type\r\n  if (revealType === 'blur') {\r\n    return (\r\n      <motion.div\r\n        ref={containerRef}\r\n        className={`relative ${className}`}\r\n        style={{\r\n          filter: blurValue,\r\n          opacity: blurOpacity,\r\n        }}\r\n      >\r\n        {text}\r\n      </motion.div>\r\n    );\r\n  }\r\n\r\n  if (revealType === 'fade') {\r\n    return (\r\n      <motion.div\r\n        ref={containerRef}\r\n        className={`relative ${className}`}\r\n        style={{\r\n          opacity: fadeOpacity,\r\n        }}\r\n      >\r\n        {text}\r\n      </motion.div>\r\n    );\r\n  }\r\n\r\n  if (revealType === 'slide') {\r\n    return (\r\n      <motion.div\r\n        ref={containerRef}\r\n        className={`relative ${className}`}\r\n        style={{\r\n          y: slideY,\r\n          opacity: slideOpacity,\r\n        }}\r\n      >\r\n        {text}\r\n      </motion.div>\r\n    );\r\n  }\r\n\r\n  if (revealType === 'scale') {\r\n    return (\r\n      <motion.div\r\n        ref={containerRef}\r\n        className={`relative ${className}`}\r\n        style={{\r\n          scale,\r\n          opacity: scaleOpacity,\r\n        }}\r\n      >\r\n        {text}\r\n      </motion.div>\r\n    );\r\n  }\r\n\r\n  // Characters reveal - each character reveals based on scroll\r\n  if (revealType === 'characters') {\r\n    return (\r\n      <div ref={containerRef} className={`relative ${className}`}>\r\n        <span className=\"sr-only\">{text}</span>\r\n        <span aria-hidden>\r\n          {characters.map((char, index) => (\r\n            <CharacterReveal\r\n              key={index}\r\n              char={char}\r\n              index={index}\r\n              total={characters.length}\r\n              scrollYProgress={scrollYProgress}\r\n              staggerDelay={staggerDelay}\r\n              blurAmount={blurAmount}\r\n            />\r\n          ))}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div ref={containerRef} className={`relative ${className}`}>\r\n      {text}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Component for individual character reveal\r\ninterface CharacterRevealProps {\r\n  char: string;\r\n  index: number;\r\n  total: number;\r\n  scrollYProgress: any;\r\n  staggerDelay: number;\r\n  blurAmount: number;\r\n}\r\n\r\nconst CharacterReveal = ({\r\n  char,\r\n  index,\r\n  total,\r\n  scrollYProgress,\r\n  staggerDelay,\r\n  blurAmount,\r\n}: CharacterRevealProps) => {\r\n  // Calculate when this character should start and end revealing\r\n  const staggerOffset = index * staggerDelay;\r\n  const startProgress = Math.min(staggerOffset, 0.5);\r\n  const endProgress = Math.min(staggerOffset + 0.3, 1);\r\n\r\n  const opacity = useTransform(\r\n    scrollYProgress,\r\n    [startProgress, endProgress],\r\n    [0, 1],\r\n  );\r\n\r\n  const blur = useTransform(\r\n    scrollYProgress,\r\n    [startProgress, endProgress],\r\n    [blurAmount, 0],\r\n  );\r\n\r\n  const y = useTransform(\r\n    scrollYProgress,\r\n    [startProgress, endProgress],\r\n    [10, 0],\r\n  );\r\n\r\n  // Handle the filter transform\r\n  const filterBlur = useTransform(blur, (v) => `blur(${v}px)`);\r\n\r\n  return (\r\n    <motion.span\r\n      className=\"inline-block\"\r\n      style={{\r\n        opacity,\r\n        filter: filterBlur,\r\n        y,\r\n        display: char === ' ' ? 'inline' : 'inline-block',\r\n        minWidth: char === ' ' ? '0.3em' : 'auto',\r\n      }}\r\n    >\r\n      {char === ' ' ? '\\u00A0' : char}\r\n    </motion.span>\r\n  );\r\n};\r\n\r\nexport default ScrollRevealText;\r\n",
      "path": "/components/ui/scroll-reveal-text.tsx",
      "target": "components/ui/scroll-reveal-text.tsx"
    }
  ],
  "categories": [
    "text-animation"
  ]
}