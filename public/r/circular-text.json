{
  "name": "circular-text",
  "type": "registry:block",
  "author": "nuelst",
  "dependencies": [
    "framer-motion",
    "react"
  ],
  "registryDependencies": [],
  "files": [
    {
      "type": "registry:block",
      "content": "\"use client\";\r\nimport {\r\n  motion,\r\n  MotionValue,\r\n  Transition,\r\n  useAnimation,\r\n  useMotionValue,\r\n} from \"framer-motion\";\r\nimport { useEffect } from \"react\";\r\n\r\ntype CircularTextProps = {\r\n  text: string;\r\n  spinDuration?: number;\r\n  onHover?: \"slowDown\" | \"speedUp\" | \"pause\" | \"goBonkers\";\r\n  className?: string;\r\n}\r\n\r\nconst getRotationTransition = (\r\n  duration: number,\r\n  from: number,\r\n  loop: boolean = true\r\n) => ({\r\n  from,\r\n  to: from + 360,\r\n  ease: \"linear\" as const,\r\n  duration,\r\n  type: \"tween\" as const,\r\n  repeat: loop ? Infinity : 0,\r\n});\r\n\r\nconst getTransition = (duration: number, from: number) => ({\r\n  rotate: getRotationTransition(duration, from),\r\n  scale: {\r\n    type: \"spring\" as const,\r\n    damping: 20,\r\n    stiffness: 300,\r\n  },\r\n});\r\n\r\nexport function CircularText({\r\n  text = \"Circular Text Animation â€¢ \",\r\n  spinDuration = 20,\r\n  onHover = \"speedUp\",\r\n  className = \"\",\r\n}: Readonly<CircularTextProps>) {\r\n  const letters = Array.from(text);\r\n  const controls = useAnimation();\r\n  const rotation: MotionValue<number> = useMotionValue(0);\r\n\r\n  useEffect(() => {\r\n    const start = rotation.get();\r\n    controls.start({\r\n      rotate: start + 360,\r\n      scale: 1,\r\n      transition: getTransition(spinDuration, start),\r\n    });\r\n  }, [spinDuration, text, onHover, controls]);\r\n\r\n  const handleHoverStart = () => {\r\n    const start = rotation.get();\r\n\r\n    if (!onHover) return;\r\n\r\n    let transitionConfig: ReturnType<typeof getTransition> | Transition;\r\n    let scaleVal = 1;\r\n\r\n    switch (onHover) {\r\n      case \"slowDown\":\r\n        transitionConfig = getTransition(spinDuration * 2, start);\r\n        break;\r\n      case \"speedUp\":\r\n        transitionConfig = getTransition(spinDuration / 4, start);\r\n        break;\r\n      case \"pause\":\r\n        transitionConfig = {\r\n          rotate: { type: \"spring\", damping: 20, stiffness: 300 },\r\n          scale: { type: \"spring\", damping: 20, stiffness: 300 },\r\n        };\r\n        break;\r\n      case \"goBonkers\":\r\n        transitionConfig = getTransition(spinDuration / 20, start);\r\n        scaleVal = 0.8;\r\n        break;\r\n      default:\r\n        transitionConfig = getTransition(spinDuration, start);\r\n    }\r\n\r\n    controls.start({\r\n      rotate: start + 360,\r\n      scale: scaleVal,\r\n      transition: transitionConfig,\r\n    });\r\n  };\r\n\r\n  const handleHoverEnd = () => {\r\n    const start = rotation.get();\r\n    controls.start({\r\n      rotate: start + 360,\r\n      scale: 1,\r\n      transition: getTransition(spinDuration, start),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-[400px]  rounded-lg\">\r\n      <motion.div\r\n        className={`m-0 mx-auto rounded-full w-[200px] h-[200px] relative font-black text-white text-center cursor-pointer origin-center ${className}`}\r\n        style={{ rotate: rotation }}\r\n        initial={{ rotate: 0 }}\r\n        animate={controls}\r\n        onMouseEnter={handleHoverStart}\r\n        onMouseLeave={handleHoverEnd}\r\n      >\r\n        {letters.map((letter, i) => {\r\n          const rotationDeg = (360 / letters.length) * i;\r\n          const factor = Math.PI / letters.length;\r\n          const x = factor * i;\r\n          const y = factor * i;\r\n          const transform = `rotateZ(${rotationDeg}deg) translate3d(${x}px, ${y}px, 0)`;\r\n\r\n          return (\r\n            <span\r\n              key={i}\r\n              className=\"absolute inline-block inset-0 text-2xl transition-all duration-500 ease-out\"\r\n              style={{ transform, WebkitTransform: transform }}\r\n            >\r\n              {letter}\r\n            </span>\r\n          );\r\n        })}\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CircularText;\r\n\r\n",
      "path": "/components/mvpblocks/text-animations/circular-text.tsx",
      "target": "components/mvpblocks/circular-text.tsx"
    }
  ]
}